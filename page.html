<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book Viewer</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <style>
    body {
      margin: 0;
      background-color: white;
      font-family: Georgia, serif;
    }

    .top-banner {
      background-image: url('./„Éè„É≠„Ç¶„Ç£„Éº„É≥ÊúüÈñì‰∏≠„Ç≠„Çø„É¶„É°„ÄÇ_files/kita_kabe.gif');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      height: 200px;
      width: 100%;
    }

    .book-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      padding: 20px;
      flex-wrap: wrap;
      background-color: #fffaf0;
    }

    canvas {
      display: block;
      width: 100%;
      max-width: 45vw;
      height: auto;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fff;
    }

    .nav-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px 0 40px;
    }

    .nav-buttons img {
      cursor: pointer;
      width: 100px;
      height: auto;
      transition: transform 0.2s ease;
    }

    .nav-buttons img:hover {
      transform: scale(1.05);
    }

    .back-button {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .back-button img {
      cursor: pointer;
      width: 100px;
      height: auto;
      transition: transform 0.2s ease;
    }

    .back-button img:hover {
      transform: scale(1.05);
    }

    #Table_01 tbody tr td p strong {
      color: #C00;
    }
  </style>
</head>
<body>

  <div class="top-banner"></div>

  <!-- Back to Main Site Button -->
  <div class="back-button">
    <a href="https://yourusername.github.io/">
      <img src="home-button.png" alt="Back to site">
    </a>
  </div>

  <!-- PDF Viewer -->
  <div class="book-container">
    <canvas id="leftPage"></canvas>
    <canvas id="rightPage"></canvas>
  </div>

  <!-- Navigation Buttons -->
  <div class="nav-buttons">
    <img src="prev-button.png" alt="Previous" onclick="goToPrevPage()">
    <img src="next-button.png" alt="Next" onclick="goToNextPage()">
  </div>

  <script>
    const url = 'https://files.catbox.moe/e42ti3.pdf'; // üìù Replace with your actual PDF file
    let pdfDoc = null;
    let currentPage = 1;

    const leftCanvas = document.getElementById('leftPage');
    const rightCanvas = document.getElementById('rightPage');
    const leftCtx = leftCanvas.getContext('2d');
    const rightCtx = rightCanvas.getContext('2d');

    const renderPage = async (pageNum, canvas, ctx) => {
      if (pageNum > pdfDoc.numPages) {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        return;
      }

      const page = await pdfDoc.getPage(pageNum);
      const viewport = page.getViewport({ scale: 2 }); // Render at full res

      canvas.width = viewport.width;
      canvas.height = viewport.height;

      canvas.style.width = "100%";
      canvas.style.height = "auto";

      await page.render({ canvasContext: ctx, viewport }).promise;
    };

    const renderBook = async () => {
      await renderPage(currentPage, leftCanvas, leftCtx);
      await renderPage(currentPage + 1, rightCanvas, rightCtx);
    };

    const goToNextPage = () => {
      if (currentPage + 2 <= pdfDoc.numPages) {
        currentPage += 2;
        renderBook();
      }
    };

    const goToPrevPage = () => {
      if (currentPage - 2 >= 1) {
        currentPage -= 2;
        renderBook();
      }
    };

    pdfjsLib.getDocument(url).promise.then((pdf) => {
      pdfDoc = pdf;
      renderBook();
    });
  </script>

</body>
</html>
